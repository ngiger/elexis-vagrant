h1. Bootstrapping Elexis

h2. TestSystem

Was an Ubuntu-Server 12.04 LTS (servername ubuntu) via USB-Stick (copied via
		sudo dd if=ubu*.ios of=/dev/sdb).
bq. sudo dd if=ubuntu-12.04-server-amd64.iso of=/dev/sdb
Minimaler Server nur OpenSSH
Dann sudo apt-get install etckeeper git vagrant
Installs a lot of packages (must be able to compile a few  files! installs
		also virtualbox)
sudo mkdir /opt/vagrant-elexis
cd /opt/vagrant-elexis
sudo chown $USER:$USER .
git clone ..
vagrant up



h2. Installation

* install virtualbox
For details see https://www.virtualbox.org/wiki/Downloads
Debian/Ubuntu: sudo apt-get install virtualbox

* install ruby
Windows: For details see http://www.ruby-lang.org/de/downloads/
Debian/Ubuntu sudo apt-get install ruby-full

* install vagrant
Auf der Kommandozeile: gem install vagrant

h2. Elexis-Server aufstarten

on the command line execute: @vagrant up@
this will take a few minutes. Afterwards point your browser at "http://localhost:8880/" and you should
see something like @Hello from the vagrant VM running a MySQL-server for Elexis@Â¨

h1. puppet development

h2. puppet testing on the development

Test the module java on a machine where you have a working copy of this project, just call (in your own development environemnt):
@cd /path/to/checkout@
@vagrant provision@

h2. puppet testing on the target

@cd /path/to/checkout@
@vagrant ssh@
@/tmp/vagrant-puppet/@ # now you are on your checked out
@sudo puppet apply --debug --confdir . --modulepath modules-0 modules-0/java/tests/init.pp@

h2. manual interventions to get Jenkins up & running

@sudo aptitude remove  apt-get remove jenkins-common jenkins jenkins-cli@ # Ubuntu used tomcat for jenkins
@sudo aptitude install jenkins=1.473@

h2. git howto

http://git-scm.com/book/en/Git-Tools-Submodules
git submodule add https://github.com/ngiger/puppet-x2go modules/x2go

h2. TODO

* gem should be able to use jruby
* gem should honour --noop
* gem -> /opt/vagrant_ruby/bin/gem for vagrant?
* elexis::server -> elexis::mysql_server und myElexis richtig installieren
* elexis 2.1.7 automatisch installieren
* os-user elexis einrichten (dito Arztx, MPAx,oc)
* gollum/mediawiki/"pmwiki":http://www.pmwiki.org/
  Evtl. convert "pmwiki_mediawiki":http://sourceforge.net/projects/pm2media/
* setup/create initial box (e.g. using "WeeVee":https://github.com/jedi4ever/veewee)
* postgresql
* add util for curl, adding source/opt for apt-get?
* mysql: Should be able to modify user password of an existing user
* and a lot more
* Deutsch als Vorgabesprache (veewee with elexisBaseBox passes validation, but cannot be used)
* users elexis, et al should be able to log in

Niklaus TODO:
* ?? sudo apt-get install ruby1.9.1-full make libxslt-dev libxml2-dev
* ?? ruby-switch --set ruby1.9.1
